# Revealing the Reflexive Phone Tap
A Comprehensive Study on User’s Intuition in Mobile Applications

## Abstract
In this project, we analyzed app usage behavior from three datasets with Hadoop related big data software to find out: the category information behind the prevalent mobile apps, and typical patterns of user app usage behavior. The results could be useful to a range of segments associated with mobile applications such as Operating System Kernels, App Developers, and further research studies. We found out, from two of the datasets, Message and Utility app category are the most popular. And in one dataset, Game and Utility are the most popular. We also found out that user tend to use apps from the same category in a sequence. We also proposed that mobile os developers can use this information to optimize the os resource management. However, further research is needed for this theory.

## Introduction
Mobile applications have substantially revolutionized our lifestyles. From communications to entertainment, from ecom- merce to utility, applications are reshaping how humans inter- act with each other. Yet little is known about our intuition of interacting with these applications. In this project, we look into the app usage behavior patterns by analyzing three different data sources generated by real-world users. In the first section, we will first provide a preliminary analysis of the app usage datasets. We will then link those apps to their metadata in Google Play Store, in an effort to arrive at categorical conclusions about app-user interactions. In the third section, we further explore the cross-app relationships by drawing user paths in switching the apps. Our project can contribute to the field of usage pattern modeling by 1) integrating multiple data sources collected from various locations and 2) linking sequen- tial app usage with their respective meta-information. This study aims to look into datasets with different demographics and derive insights on multiple subjects that could further corroborate the existing studies in the emerging research field.

## Motivation
The field of app usage analytics is a relatively nascent field. While there are much data and information available about the app usage analytics, little is done to understand the motivation and typical usage pattern behind users’ app usage behavior. If done correctly, this information could be extremely valuable to the entire network chain of entities associated with mobile applications.
Through this usage, we intend to provide an overarching information that analyses user’s app usage behaviours. We also aim to understand the context that lead to user switching between different applications, and observe any overlapping trends across the population of users.
The insights that this research will produce could be benefit used by various professionals. Firstly, it provides comprehen- sive information to the app developers regarding the app usage behaviour patterns. They can use the insights for a range of understanding, from noting which apps and the category of apps are most popular to understanding entire network effects of their different products. They can use this to develop plans of market entry and study different app categories.
Similarly, for OS developers and device performance optimizers, these results can be useful in managing resources in order to enhance user performances. Moreover, we tend to serve the marketing and advertisement platforms an un- derstanding and knowledge of the market demands related to different apps. Considering that online ads are the one of the most efficient marketing medium today, the findings from our work aim to help in enhancement of the reach of these online campaigns.

## Dataset
In this section, we briefly introduce the three datasets which formed the basis of the study. All of them are collected from Android users with an objective to obtain a better understand- ing of users’ interactions with the mobile applications.

### A. Frappe
Frappe is a dataset collected for a real-world deployment of a context-aware mobile app recommender system collected around 2015. It is used to predict the which app will be opened given the environment and the status of users. The dataset is partitioned into two tables. Frappe.csv contains the mobile app usage records generated by users; each row represents a single usage of an app by a user identified by user id, and it also contains the environment and background information when the action occurred. The original dataset is comprised of 96,203 records generated by 1,000 users for 4,082 unique apps. The original schema contains contextual information that includes
• Daytime
• Weekday
• IsWeekend
• Home/Work
• Cost
• Weather
• City
While these information pertains to predicting users’ inten- tion in opening the next app, our study focused on a smaller range of features in the log that fits our purpose of investigating the app usage itself. 

### B. LSApp
LSApp is a dataset that provides information regarding the interactions and usages of mobile applications for a sample of users. It essentially provides for each user, the app they have interacted with, along with the type of interaction (open, closed, user interaction), as well as the timestamps and the categorized session for each user. The data dates from July 2020, as part of a research study that allowed the recording of user app usages on their phones. It consists of 292 user participants, and provides 599,635 app usage records, which encompass 87 unique apps from the sample.

### C. ISTAS
ISTAS, like LSAPP, is a dataset that was published in a research by scholars from the same group of institutions. It was collected with an App called uSearch which reccord user app usage behaviour in a period of time after conducting a search query. However, unlike LSApp, this dataset was published in 2018 an the contains directly the sequence of user app usage sequence instead of a list of open, close, and interaction with time stamp. Furthermore, the dataset utilized JSON instead of csv or other relational dataset format to accommodate the sequence list mentioned above.
The dataset was collected from 255 participants who generated 6,877 search queries and app usage sequence data.

## Analytics

### A. Data Cleaning & Profiling
While all of the three datasets are developed for app usage analytic, each of them has different schemas and their own unique purpose under the realm. In order to derive joint analytic that is meaningful, we performed the data cleaning and profiling phase to ensure the goodness of analytics and the uniformity of the insights. The specific steps undertaken for each dataset differ and will be elaborated in the following sections.
** a) Frappe: ** For processing Frappe, we employed two different tools for data cleaning and profiling, one is the Hadoop Map Reduce and the other is Apache Spark. Spark could directly read from Hive tables and then save to it after going through transformations. After the initial cleaning described in previous section, the resulting dataset has 957 unique users with 94,389 records. We elected not to drop any rows from the meta.csv even though some of the app information are largely unknown. This is because there is at least one entry in frappe.csv that is associated with any unique app in meta.csv.

** b) iSTAS: ** The JSON file was first converted to csv file with Python script to make it compatible with MapReduce. The converted csv file has the same schema as the original file. The dataset was then cleaned with MapReduce to remove irrelevant and invalid data. Since the dataset already contains a sequence of app usage; timestamp, user Id, as well as Query is irrelevant in this study. Thus those fields are removed in the cleaning step. Meanwhile, the original dataset contains record with unknown app name and was marked with ”???”, which cannot be used to form conclusion in this study. Therefore those records are also removed. As a result, the cleaned dataset has 6761 records in total. The output file of this step is named with cleaned.txt.

** c) LSApp: ** The dataset provides essential information regarding app usage behaviours and trends across a sample of users. The listing of apps used in order and identified by distinct users seemed integral for our research. Hence, first the raw data file was loaded into the Hadoop File System, after which the extra columns were dropped and only the userId and appName column is kept through the first data cleaning using MapReduce. Also, consecutive appearance of the same app record with different eventType, for example multiple consecutive opening and closing of the same app by the same user, seemed to skew our results. Therefore, for the consecutively repeating app records, only a unique record is kept and the repeating ones are dropped from the dataset. The output of this data munging is added to a RDBMS in the Hadoop architecture for analytical queries. Using Hive Queries, basic data profiling is achieved which allows us to observe the counts of usage records, unique users, and unique apps.
While the dataset provides the user app interactions in order, it doesn’t provide shorter sub-sequences of these usages which we require in order to understand the trends of switching between apps for users. Hence, on the previous output, we perform another MapReduce job to profile our data for further queries. Here, for each user, we add all the permutations of 5 consecutive app usages in a field, and hence, we have the output that records the sequence of previous 2 apps, current app, and next 2 apps for each user. This file is also added to a SQL database in Hadoop for further queries.